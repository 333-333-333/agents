# docker-compose.yml
services:
  postgres:
    image: postgres:16-alpine
    profiles: [local, infra]
    # ...

  nats:
    image: nats:2-alpine
    profiles: [local, infra]
    # ...

  minio:
    image: minio/minio
    profiles: [local, infra]
    # ...

  otel-collector:
    image: otel/opentelemetry-collector-contrib
    profiles: [local, observability]
    # ...

  jaeger:
    image: jaegertracing/all-in-one
    profiles: [local, observability]
    # ...

  gateway:
    build: ./api/gateway
    profiles: [local, services]
    env_file: ./api/gateway/.env
    # ...
